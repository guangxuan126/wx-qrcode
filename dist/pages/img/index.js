'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var QR = require('../../utils/qrcode.js');
exports.default = Page({
  data: {
    '__code__': {
      readme: ''
    },

    img: "",
    $loading: {
      isShow: false
    }
  },
  showLoading: function showLoading() {
    var _this = this;

    this.setData({
      $loading: {
        isShow: true
      }
    });
    setTimeout(function () {
      _this.setData({
        $loading: {
          isShow: false
        }
      });
    }, 2000);
    var that = this;
    var gendetail = getApp().globalData.gendetail;
    that.setData({
      maskHidden: false
    });
    var st = setTimeout(function () {
      wx.hideToast();
      var size = that.setCanvasSize();
      that.createQrCode(gendetail, "mycanvas", size.w, size.h);
      that.setData({
        isDisabled: false,
        isDisabled1: true,
        maskHidden: true
      });
      clearTimeout(st);
    }, 1800);
  },

  onLoad: function onLoad(e) {
    var that = this;
    var gendetail = getApp().globalData.gendetail;
    console.log(gendetail);
    this.setData({
      gendetail: gendetail,
      isDisabled: true,
      isDisabled1: false
    });
    var size = this.setCanvasSize();
  },
  setCanvasSize: function setCanvasSize() {
    var size = {};
    try {
      var res = wx.getSystemInfoSync();
      var scale = 750 / 686;
      var width = res.windowWidth / scale;
      var height = width;
      size.w = width;
      size.h = height;
    } catch (e) {
      console.log("获取设备信息失败" + e);
    }
    return size;
  },
  createQrCode: function createQrCode(gendetail, canvasId, cavW, cavH) {
    var _this2 = this;

    QR.api.draw(gendetail, canvasId, cavW, cavH);
    setTimeout(function () {
      _this2.canvasToTempImage();
    }, 1000);
  },
  canvasToTempImage: function canvasToTempImage() {
    var that = this;
    wx.canvasToTempFilePath({
      canvasId: 'mycanvas',
      success: function success(res) {
        var tempFilePath = res.tempFilePath;
        console.log(tempFilePath);
        that.setData({
          imagePath: tempFilePath
        });
      },
      fail: function fail(res) {
        console.log(res);
      }
    });
  },
  previewImg: function previewImg(e) {
    var img = this.data.imagePath;
    console.log(img);
    wx.previewImage({
      current: 'img',
      urls: [img]
    });
  },
  gen: function gen(e) {
    var that = this;
    var gendetail = getApp().globalData.gendetail;
    that.setData({
      maskHidden: false
    });
    var st = setTimeout(function () {
      wx.hideToast();
      var size = that.setCanvasSize();
      that.createQrCode(gendetail, "mycanvas", size.w, size.h);
      that.setData({
        maskHidden: true
      });
      clearTimeout(st);
    }, 100);
  },
  save: function save(e) {
    wx.canvasToTempFilePath({
      canvasId: 'mycanvas',
      success: function success(res) {
        var tempFilePath = res.tempFilePath;
        wx.saveImageToPhotosAlbum({
          filePath: res.tempFilePath,
          success: function success(data) {
            console.log(data);
            wx.showModal({
              title: '提示',
              content: '保存成功',
              showCancel: false,
              confirmText: '确认'
            });
          },
          fail: function fail(err) {
            console.log(err);
          }
        });
      },
      fail: function fail(res) {
        console.log(res);
      }
    });
  },
  onShareAppMessage: function onShareAppMessage() {
    return {
      title: 'QR二维码',
      path: '/pages/home/index',
      imageUrl: 'https://images.gxuann.cn/qrcode/share.png'
    };
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4Lnd4cCJdLCJuYW1lcyI6WyJRUiIsInJlcXVpcmUiLCJkYXRhIiwiaW1nIiwiJGxvYWRpbmciLCJpc1Nob3ciLCJzaG93TG9hZGluZyIsInNldERhdGEiLCJzZXRUaW1lb3V0IiwidGhhdCIsImdlbmRldGFpbCIsImdldEFwcCIsImdsb2JhbERhdGEiLCJtYXNrSGlkZGVuIiwic3QiLCJ3eCIsImhpZGVUb2FzdCIsInNpemUiLCJzZXRDYW52YXNTaXplIiwiY3JlYXRlUXJDb2RlIiwidyIsImgiLCJpc0Rpc2FibGVkIiwiaXNEaXNhYmxlZDEiLCJjbGVhclRpbWVvdXQiLCJvbkxvYWQiLCJlIiwiY29uc29sZSIsImxvZyIsInJlcyIsImdldFN5c3RlbUluZm9TeW5jIiwic2NhbGUiLCJ3aWR0aCIsIndpbmRvd1dpZHRoIiwiaGVpZ2h0IiwiY2FudmFzSWQiLCJjYXZXIiwiY2F2SCIsImFwaSIsImRyYXciLCJjYW52YXNUb1RlbXBJbWFnZSIsImNhbnZhc1RvVGVtcEZpbGVQYXRoIiwic3VjY2VzcyIsInRlbXBGaWxlUGF0aCIsImltYWdlUGF0aCIsImZhaWwiLCJwcmV2aWV3SW1nIiwicHJldmlld0ltYWdlIiwiY3VycmVudCIsInVybHMiLCJnZW4iLCJzYXZlIiwic2F2ZUltYWdlVG9QaG90b3NBbGJ1bSIsImZpbGVQYXRoIiwic2hvd01vZGFsIiwidGl0bGUiLCJjb250ZW50Iiwic2hvd0NhbmNlbCIsImNvbmZpcm1UZXh0IiwiZXJyIiwib25TaGFyZUFwcE1lc3NhZ2UiLCJwYXRoIiwiaW1hZ2VVcmwiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBSUEsS0FBS0MsUUFBUSx1QkFBUixDQUFUOztBQVFFQyxRQUFNO0FBQUE7QUFBQTtBQUFBOztBQUNKQyxTQUFJLEVBREE7QUFFSkMsY0FBVTtBQUNOQyxjQUFRO0FBREY7QUFGTixHO0FBTUZDLGEseUJBQWM7QUFBQTs7QUFDWixTQUFLQyxPQUFMLENBQWE7QUFDWEgsZ0JBQVU7QUFDUkMsZ0JB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QjtBQXdCRCxHO0FBQ0QrQixxQkFBbUIsNkJBQVk7QUFDN0IsV0FBTztBQUNMTCxhQUFPLE9BREY7QUFFTE0sWUFBTSxtQkFGRDtBQUdMQyxnQkFBVTtBQUhMLEtBQVA7QUFLRCIsImZpbGUiOiJpbmRleC53eHAiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUVIgPSByZXF1aXJlKCcuLi8uLi91dGlscy9xcmNvZGUuanMnKVxuZXhwb3J0IGRlZmF1bHQge1xuICBjb25maWc6IHtcbiAgICBuYXZpZ2F0aW9uQmFyVGl0bGVUZXh0OiAnUVLkuoznu7TnoIEnLFxuICAgIHVzaW5nQ29tcG9uZW50czoge1xuICAgICAgJ3d4Yy1sb2FkaW5nJzogJ0BtaW51aS93eGMtbG9hZGluZydcbiAgICB9XG4gIH0sXG4gIGRhdGE6IHtcbiAgICBpbWc6XCJcIixcbiAgICAkbG9hZGluZzoge1xuICAgICAgICBpc1Nob3c6IGZhbHNlXG4gICAgfVxuICB9LFxuICAgICAgc2hvd0xvYWRpbmcoKSB7XG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgICAgJGxvYWRpbmc6IHtcbiAgICAgICAgICAgIGlzU2hvdzogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgICAkbG9hZGluZzoge1xuICAgICAgICAgICAgaXNTaG93OiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0sIDIwMDApXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB2YXIgZ2VuZGV0YWlsID0gZ2V0QXBwKCkuZ2xvYmFsRGF0YS5nZW5kZXRhaWw7XG4gICAgICB0aGF0LnNldERhdGEoe1xuICAgICAgICBtYXNrSGlkZGVuOmZhbHNlLFxuICAgICAgfSk7XG4gICAgICB2YXIgc3QgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIHd4LmhpZGVUb2FzdCgpXG4gICAgICAgIHZhciBzaXplID0gdGhhdC5zZXRDYW52YXNTaXplKCk7XG4gICAgICAgIHRoYXQuY3JlYXRlUXJDb2RlKGdlbmRldGFpbCxcIm15Y2FudmFzXCIsc2l6ZS53LHNpemUuaCk7XG4gICAgICAgIHRoYXQuc2V0RGF0YSh7XG4gICAgICAgICAgaXNEaXNhYmxlZDpmYWxzZSxcbiAgICAgICAgICBpc0Rpc2FibGVkMTp0cnVlLFxuICAgICAgICAgIG1hc2tIaWRkZW46dHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHN0KTtcbiAgICAgIH0sMTgwMCk7XG4gICAgfSxcbiAgb25Mb2FkOiBmdW5jdGlvbihlKXtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgZ2VuZGV0YWlsID0gZ2V0QXBwKCkuZ2xvYmFsRGF0YS5nZW5kZXRhaWxcbiAgICBjb25zb2xlLmxvZyhnZW5kZXRhaWwpO1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBnZW5kZXRhaWw6IGdlbmRldGFpbCxcbiAgICAgIGlzRGlzYWJsZWQ6IHRydWUsXG4gICAgICBpc0Rpc2FibGVkMTpmYWxzZSxcbiAgICB9KTtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2V0Q2FudmFzU2l6ZSgpO1xuICB9LFxuICBzZXRDYW52YXNTaXplOmZ1bmN0aW9uKCl7XG4gICAgdmFyIHNpemU9e307XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlcyA9IHd4LmdldFN5c3RlbUluZm9TeW5jKCk7XG4gICAgICAgIHZhciBzY2FsZSA9IDc1MC82ODY7XG4gICAgICAgIHZhciB3aWR0aCA9IHJlcy53aW5kb3dXaWR0aC9zY2FsZTtcbiAgICAgICAgdmFyIGhlaWdodCA9IHdpZHRoO1xuICAgICAgICBzaXplLncgPSB3aWR0aDtcbiAgICAgICAgc2l6ZS5oID0gaGVpZ2h0O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuiOt+WPluiuvuWkh+S/oeaBr+Wksei0pVwiK2UpO1xuICAgICAgfVxuICAgIHJldHVybiBzaXplO1xuICB9ICxcbiAgY3JlYXRlUXJDb2RlOmZ1bmN0aW9uKGdlbmRldGFpbCxjYW52YXNJZCxjYXZXLGNhdkgpe1xuICAgIFFSLmFwaS5kcmF3KGdlbmRldGFpbCxjYW52YXNJZCxjYXZXLGNhdkgpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmNhbnZhc1RvVGVtcEltYWdlKCk7fSwxMDAwKTtcbiAgfSxcbiAgY2FudmFzVG9UZW1wSW1hZ2U6ZnVuY3Rpb24oKXtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgd3guY2FudmFzVG9UZW1wRmlsZVBhdGgoe1xuICAgICAgY2FudmFzSWQ6ICdteWNhbnZhcycsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgdmFyIHRlbXBGaWxlUGF0aCA9IHJlcy50ZW1wRmlsZVBhdGg7XG4gICAgICAgICAgY29uc29sZS5sb2codGVtcEZpbGVQYXRoKTtcbiAgICAgICAgICB0aGF0LnNldERhdGEoe1xuICAgICAgICAgICAgICBpbWFnZVBhdGg6dGVtcEZpbGVQYXRoLFxuICAgICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZhaWw6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBwcmV2aWV3SW1nOmZ1bmN0aW9uKGUpe1xuICAgIHZhciBpbWcgPSB0aGlzLmRhdGEuaW1hZ2VQYXRoO1xuICAgIGNvbnNvbGUubG9nKGltZyk7XG4gICAgd3gucHJldmlld0ltYWdlKHtcbiAgICAgIGN1cnJlbnQ6ICdpbWcnLFxuICAgICAgdXJsczogW2ltZ11cbiAgICB9KVxuICB9LFxuICBnZW46IGZ1bmN0aW9uKGUpe1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgZ2VuZGV0YWlsID0gZ2V0QXBwKCkuZ2xvYmFsRGF0YS5nZW5kZXRhaWw7XG4gICAgdGhhdC5zZXREYXRhKHtcbiAgICAgIG1hc2tIaWRkZW46ZmFsc2UsXG4gICAgfSk7XG4gICAgdmFyIHN0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgd3guaGlkZVRvYXN0KClcbiAgICAgIHZhciBzaXplID0gdGhhdC5zZXRDYW52YXNTaXplKCk7XG4gICAgICB0aGF0LmNyZWF0ZVFyQ29kZShnZW5kZXRhaWwsXCJteWNhbnZhc1wiLHNpemUudyxzaXplLmgpO1xuICAgICAgdGhhdC5zZXREYXRhKHtcbiAgICAgICAgbWFza0hpZGRlbjp0cnVlXG4gICAgICB9KTtcbiAgICAgIGNsZWFyVGltZW91dChzdCk7XG4gICAgfSwxMDApO1xuICB9LFxuICBzYXZlOiBmdW5jdGlvbihlKXtcbiAgICB3eC5jYW52YXNUb1RlbXBGaWxlUGF0aCh7XG4gICAgICBjYW52YXNJZDogJ215Y2FudmFzJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIHRlbXBGaWxlUGF0aCA9IHJlcy50ZW1wRmlsZVBhdGhcbiAgICAgICAgd3guc2F2ZUltYWdlVG9QaG90b3NBbGJ1bSh7XG4gICAgICAgICAgZmlsZVBhdGg6IHJlcy50ZW1wRmlsZVBhdGgsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgICAgICAgICB3eC5zaG93TW9kYWwoe1xuICAgICAgICAgICAgICB0aXRsZTogJ+aPkOekuicsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6ICfkv53lrZjmiJDlip8nLFxuICAgICAgICAgICAgICBzaG93Q2FuY2VsOiBmYWxzZSxcbiAgICAgICAgICAgICAgY29uZmlybVRleHQ6ICfnoa7orqQnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBvblNoYXJlQXBwTWVzc2FnZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogJ1FS5LqM57u056CBJyxcbiAgICAgIHBhdGg6ICcvcGFnZXMvaG9tZS9pbmRleCcsXG4gICAgICBpbWFnZVVybDogJ2h0dHBzOi8vaW1hZ2VzLmd4dWFubi5jbi9xcmNvZGUvc2hhcmUucG5nJ1xuICAgIH1cbiAgfVxufSJdfQ==