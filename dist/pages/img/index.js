'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var QR = require('../../utils/qrcode.js');
exports.default = Page({
  data: {
    '__code__': {
      readme: ''
    },

    img: "",
    $loading: {
      isShow: false
    }
  },
  showLoading: function showLoading() {
    var _this = this;

    this.setData({
      $loading: {
        isShow: true
      }
    });
    setTimeout(function () {
      _this.setData({
        $loading: {
          isShow: false
        }
      });
    }, 2000);
    var that = this;
    var gendetail = getApp().globalData.gendetail;
    that.setData({
      maskHidden: false
    });
    var st = setTimeout(function () {
      wx.hideToast();
      var size = that.setCanvasSize();
      that.createQrCode(gendetail, "mycanvas", size.w, size.h);
      that.setData({
        isDisabled: false,
        isDisabled1: true,
        maskHidden: true
      });
      clearTimeout(st);
    }, 1800);
  },

  onLoad: function onLoad(e) {
    var that = this;
    var gendetail = getApp().globalData.gendetail;
    console.log(gendetail);
    this.setData({
      gendetail: gendetail,
      isDisabled: true,
      isDisabled1: false
    });
    var size = this.setCanvasSize();
  },
  setCanvasSize: function setCanvasSize() {
    var size = {};
    try {
      var res = wx.getSystemInfoSync();
      var scale = 750 / 686;
      var width = res.windowWidth / scale;
      var height = width;
      size.w = width;
      size.h = height;
    } catch (e) {
      console.log("获取设备信息失败" + e);
    }
    return size;
  },
  createQrCode: function createQrCode(gendetail, canvasId, cavW, cavH) {
    var _this2 = this;

    QR.api.draw(gendetail, canvasId, cavW, cavH);
    setTimeout(function () {
      _this2.canvasToTempImage();
    }, 1000);
  },
  canvasToTempImage: function canvasToTempImage() {
    var that = this;
    wx.canvasToTempFilePath({
      canvasId: 'mycanvas',
      success: function success(res) {
        var tempFilePath = res.tempFilePath;
        console.log(tempFilePath);
        that.setData({
          imagePath: tempFilePath
        });
      },
      fail: function fail(res) {
        console.log(res);
      }
    });
  },
  previewImg: function previewImg(e) {
    var img = this.data.imagePath;
    console.log(img);
    wx.previewImage({
      current: 'img',
      urls: [img]
    });
  },
  gen: function gen(e) {
    var that = this;
    var gendetail = getApp().globalData.gendetail;
    that.setData({
      maskHidden: false
    });
    var st = setTimeout(function () {
      wx.hideToast();
      var size = that.setCanvasSize();
      that.createQrCode(gendetail, "mycanvas", size.w, size.h);
      that.setData({
        maskHidden: true
      });
      clearTimeout(st);
    }, 100);
  },
  save: function save(e) {
    wx.canvasToTempFilePath({
      canvasId: 'mycanvas',
      success: function success(res) {
        var tempFilePath = res.tempFilePath;
        wx.saveImageToPhotosAlbum({
          filePath: res.tempFilePath,
          success: function success(data) {
            console.log(data);
            wx.showModal({
              title: '提示',
              content: '保存成功',
              showCancel: false,
              confirmText: '确认'
            });
          },
          fail: function fail(err) {
            console.log(err);
          }
        });
      },
      fail: function fail(res) {
        console.log(res);
      }
    });
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4Lnd4cCJdLCJuYW1lcyI6WyJRUiIsInJlcXVpcmUiLCJkYXRhIiwiaW1nIiwiJGxvYWRpbmciLCJpc1Nob3ciLCJzaG93TG9hZGluZyIsInNldERhdGEiLCJzZXRUaW1lb3V0IiwidGhhdCIsImdlbmRldGFpbCIsImdldEFwcCIsImdsb2JhbERhdGEiLCJtYXNrSGlkZGVuIiwic3QiLCJ3eCIsImhpZGVUb2FzdCIsInNpemUiLCJzZXRDYW52YXNTaXplIiwiY3JlYXRlUXJDb2RlIiwidyIsImgiLCJpc0Rpc2FibGVkIiwiaXNEaXNhYmxlZDEiLCJjbGVhclRpbWVvdXQiLCJvbkxvYWQiLCJlIiwiY29uc29sZSIsImxvZyIsInJlcyIsImdldFN5c3RlbUluZm9TeW5jIiwic2NhbGUiLCJ3aWR0aCIsIndpbmRvd1dpZHRoIiwiaGVpZ2h0IiwiY2FudmFzSWQiLCJjYXZXIiwiY2F2SCIsImFwaSIsImRyYXciLCJjYW52YXNUb1RlbXBJbWFnZSIsImNhbnZhc1RvVGVtcEZpbGVQYXRoIiwic3VjY2VzcyIsInRlbXBGaWxlUGF0aCIsImltYWdlUGF0aCIsImZhaWwiLCJwcmV2aWV3SW1nIiwicHJldmlld0ltYWdlIiwiY3VycmVudCIsInVybHMiLCJnZW4iLCJzYXZlIiwic2F2ZUltYWdlVG9QaG90b3NBbGJ1bSIsImZpbGVQYXRoIiwic2hvd01vZGFsIiwidGl0bGUiLCJjb250ZW50Iiwic2hvd0NhbmNlbCIsImNvbmZpcm1UZXh0IiwiZXJyIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUlBLEtBQUtDLFFBQVEsdUJBQVIsQ0FBVDs7QUFRRUMsUUFBTTtBQUFBO0FBQUE7QUFBQTs7QUFDSkMsU0FBSSxFQURBO0FBRUpDLGNBQVU7QUFDTkMsY0FBUTtBQURGO0FBRk4sRztBQU1GQyxhLHlCQUFjO0FBQUE7O0FBQ1osU0FBS0MsT0FBTCxDQUFhO0FBQ1hILGdCQUFVO0FBQ1JDLGdCQUFRO0FBREE7QUFEQyxLQUFiO0FBS0FHLGVBQVcsWUFBTTtBQUNm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bnRlbnQiOlsidmFyIFFSID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvcXJjb2RlLmpzJylcbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29uZmlnOiB7XG4gICAgbmF2aWdhdGlvbkJhclRpdGxlVGV4dDogJ1FS5LqM57u056CBJyxcbiAgICB1c2luZ0NvbXBvbmVudHM6IHtcbiAgICAgICd3eGMtbG9hZGluZyc6ICdAbWludWkvd3hjLWxvYWRpbmcnXG4gICAgfVxuICB9LFxuICBkYXRhOiB7XG4gICAgaW1nOlwiXCIsXG4gICAgJGxvYWRpbmc6IHtcbiAgICAgICAgaXNTaG93OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgICAgIHNob3dMb2FkaW5nKCkge1xuICAgICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICAgICRsb2FkaW5nOiB7XG4gICAgICAgICAgICBpc1Nob3c6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgICAgJGxvYWRpbmc6IHtcbiAgICAgICAgICAgIGlzU2hvdzogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9LCAyMDAwKVxuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdmFyIGdlbmRldGFpbCA9IGdldEFwcCgpLmdsb2JhbERhdGEuZ2VuZGV0YWlsO1xuICAgICAgdGhhdC5zZXREYXRhKHtcbiAgICAgICAgbWFza0hpZGRlbjpmYWxzZSxcbiAgICAgIH0pO1xuICAgICAgdmFyIHN0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICB3eC5oaWRlVG9hc3QoKVxuICAgICAgICB2YXIgc2l6ZSA9IHRoYXQuc2V0Q2FudmFzU2l6ZSgpO1xuICAgICAgICB0aGF0LmNyZWF0ZVFyQ29kZShnZW5kZXRhaWwsXCJteWNhbnZhc1wiLHNpemUudyxzaXplLmgpO1xuICAgICAgICB0aGF0LnNldERhdGEoe1xuICAgICAgICAgIGlzRGlzYWJsZWQ6ZmFsc2UsXG4gICAgICAgICAgaXNEaXNhYmxlZDE6dHJ1ZSxcbiAgICAgICAgICBtYXNrSGlkZGVuOnRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNsZWFyVGltZW91dChzdCk7XG4gICAgICB9LDE4MDApO1xuICAgIH0sXG4gIG9uTG9hZDogZnVuY3Rpb24oZSl7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGdlbmRldGFpbCA9IGdldEFwcCgpLmdsb2JhbERhdGEuZ2VuZGV0YWlsXG4gICAgY29uc29sZS5sb2coZ2VuZGV0YWlsKTtcbiAgICB0aGlzLnNldERhdGEoe1xuICAgICAgZ2VuZGV0YWlsOiBnZW5kZXRhaWwsXG4gICAgICBpc0Rpc2FibGVkOiB0cnVlLFxuICAgICAgaXNEaXNhYmxlZDE6ZmFsc2UsXG4gICAgfSk7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNldENhbnZhc1NpemUoKTtcbiAgfSxcbiAgc2V0Q2FudmFzU2l6ZTpmdW5jdGlvbigpe1xuICAgIHZhciBzaXplPXt9O1xuICAgIHRyeSB7XG4gICAgICAgIHZhciByZXMgPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuICAgICAgICB2YXIgc2NhbGUgPSA3NTAvNjg2O1xuICAgICAgICB2YXIgd2lkdGggPSByZXMud2luZG93V2lkdGgvc2NhbGU7XG4gICAgICAgIHZhciBoZWlnaHQgPSB3aWR0aDtcbiAgICAgICAgc2l6ZS53ID0gd2lkdGg7XG4gICAgICAgIHNpemUuaCA9IGhlaWdodDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLojrflj5borr7lpIfkv6Hmga/lpLHotKVcIitlKTtcbiAgICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbiAgfSAsXG4gIGNyZWF0ZVFyQ29kZTpmdW5jdGlvbihnZW5kZXRhaWwsY2FudmFzSWQsY2F2VyxjYXZIKXtcbiAgICBRUi5hcGkuZHJhdyhnZW5kZXRhaWwsY2FudmFzSWQsY2F2VyxjYXZIKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5jYW52YXNUb1RlbXBJbWFnZSgpO30sMTAwMCk7XG4gIH0sXG4gIGNhbnZhc1RvVGVtcEltYWdlOmZ1bmN0aW9uKCl7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHd4LmNhbnZhc1RvVGVtcEZpbGVQYXRoKHtcbiAgICAgIGNhbnZhc0lkOiAnbXljYW52YXMnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgIHZhciB0ZW1wRmlsZVBhdGggPSByZXMudGVtcEZpbGVQYXRoO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRlbXBGaWxlUGF0aCk7XG4gICAgICAgICAgdGhhdC5zZXREYXRhKHtcbiAgICAgICAgICAgICAgaW1hZ2VQYXRoOnRlbXBGaWxlUGF0aCxcbiAgICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgcHJldmlld0ltZzpmdW5jdGlvbihlKXtcbiAgICB2YXIgaW1nID0gdGhpcy5kYXRhLmltYWdlUGF0aDtcbiAgICBjb25zb2xlLmxvZyhpbWcpO1xuICAgIHd4LnByZXZpZXdJbWFnZSh7XG4gICAgICBjdXJyZW50OiAnaW1nJyxcbiAgICAgIHVybHM6IFtpbWddXG4gICAgfSlcbiAgfSxcbiAgZ2VuOiBmdW5jdGlvbihlKXtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdmFyIGdlbmRldGFpbCA9IGdldEFwcCgpLmdsb2JhbERhdGEuZ2VuZGV0YWlsO1xuICAgIHRoYXQuc2V0RGF0YSh7XG4gICAgICBtYXNrSGlkZGVuOmZhbHNlLFxuICAgIH0pO1xuICAgIHZhciBzdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHd4LmhpZGVUb2FzdCgpXG4gICAgICB2YXIgc2l6ZSA9IHRoYXQuc2V0Q2FudmFzU2l6ZSgpO1xuICAgICAgdGhhdC5jcmVhdGVRckNvZGUoZ2VuZGV0YWlsLFwibXljYW52YXNcIixzaXplLncsc2l6ZS5oKTtcbiAgICAgIHRoYXQuc2V0RGF0YSh7XG4gICAgICAgIG1hc2tIaWRkZW46dHJ1ZVxuICAgICAgfSk7XG4gICAgICBjbGVhclRpbWVvdXQoc3QpO1xuICAgIH0sMTAwKTtcbiAgfSxcbiAgc2F2ZTogZnVuY3Rpb24oZSl7XG4gICAgd3guY2FudmFzVG9UZW1wRmlsZVBhdGgoe1xuICAgICAgY2FudmFzSWQ6ICdteWNhbnZhcycsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHZhciB0ZW1wRmlsZVBhdGggPSByZXMudGVtcEZpbGVQYXRoXG4gICAgICAgIHd4LnNhdmVJbWFnZVRvUGhvdG9zQWxidW0oe1xuICAgICAgICAgIGZpbGVQYXRoOiByZXMudGVtcEZpbGVQYXRoLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICAgICAgd3guc2hvd01vZGFsKHtcbiAgICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLonLFxuICAgICAgICAgICAgICBjb250ZW50OiAn5L+d5a2Y5oiQ5YqfJyxcbiAgICAgICAgICAgICAgc2hvd0NhbmNlbDogZmFsc2UsXG4gICAgICAgICAgICAgIGNvbmZpcm1UZXh0OiAn56Gu6K6kJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgZmFpbDogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICB9XG4gICAgfSlcbiAgfVxufSJdfQ==